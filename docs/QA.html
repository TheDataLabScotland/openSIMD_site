<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>openSIMD</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This project is a translation of the SIMD procedure from SAS into R.">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="openSIMD" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This project is a translation of the SIMD procedure from SAS into R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="openSIMD" />
  
  <meta name="twitter:description" content="This project is a translation of the SIMD procedure from SAS into R." />
  

<meta name="author" content="Maike Waldmann &amp; Roman Popat">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="functions.html">
<link rel="next" href="appendix.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="calculating-domains.html"><a href="calculating-domains.html"><i class="fa fa-check"></i><b>3</b> Calculating Domains</a><ul>
<li class="chapter" data-level="3.1" data-path="calculating-domains.html"><a href="calculating-domains.html#setting-up"><i class="fa fa-check"></i><b>3.1</b> Setting up</a></li>
<li class="chapter" data-level="3.2" data-path="calculating-domains.html"><a href="calculating-domains.html#the-recipe"><i class="fa fa-check"></i><b>3.2</b> The recipe</a></li>
<li class="chapter" data-level="3.3" data-path="calculating-domains.html"><a href="calculating-domains.html#dplyr"><i class="fa fa-check"></i><b>3.3</b> dplyr</a></li>
<li class="chapter" data-level="3.4" data-path="calculating-domains.html"><a href="calculating-domains.html#an-example-education"><i class="fa fa-check"></i><b>3.4</b> An example: Education</a></li>
<li class="chapter" data-level="3.5" data-path="calculating-domains.html"><a href="calculating-domains.html#Variations"><i class="fa fa-check"></i><b>3.5</b> Variations</a></li>
<li class="chapter" data-level="3.6" data-path="calculating-domains.html"><a href="calculating-domains.html#re-assigning-ranks"><i class="fa fa-check"></i><b>3.6</b> Re-assigning ranks</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="simd.html"><a href="simd.html"><i class="fa fa-check"></i><b>4</b> Calculating SIMD</a></li>
<li class="chapter" data-level="5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a><ul>
<li class="chapter" data-level="5.1" data-path="functions.html"><a href="functions.html#normalScores"><i class="fa fa-check"></i><b>5.1</b> normalScores</a></li>
<li class="chapter" data-level="5.2" data-path="functions.html"><a href="functions.html#replaceMissing"><i class="fa fa-check"></i><b>5.2</b> replaceMissing</a></li>
<li class="chapter" data-level="5.3" data-path="functions.html"><a href="functions.html#getFAWeights"><i class="fa fa-check"></i><b>5.3</b> getFAWeights</a></li>
<li class="chapter" data-level="5.4" data-path="functions.html"><a href="functions.html#combineWeightsAndNorms"><i class="fa fa-check"></i><b>5.4</b> combineWeightsAndNorms</a></li>
<li class="chapter" data-level="5.5" data-path="functions.html"><a href="functions.html#expoTransform"><i class="fa fa-check"></i><b>5.5</b> expoTransform</a></li>
<li class="chapter" data-level="5.6" data-path="functions.html"><a href="functions.html#reassignRank"><i class="fa fa-check"></i><b>5.6</b> reassignRank</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="QA.html"><a href="QA.html"><i class="fa fa-check"></i><b>6</b> Quality Assurance</a><ul>
<li class="chapter" data-level="6.1" data-path="QA.html"><a href="QA.html#normalisation"><i class="fa fa-check"></i><b>6.1</b> Normalisation</a></li>
<li class="chapter" data-level="6.2" data-path="QA.html"><a href="QA.html#factor-analysis"><i class="fa fa-check"></i><b>6.2</b> Factor analysis</a></li>
<li class="chapter" data-level="6.3" data-path="QA.html"><a href="QA.html#domain-ranks"><i class="fa fa-check"></i><b>6.3</b> Domain ranks</a></li>
<li class="chapter" data-level="6.4" data-path="QA.html"><a href="QA.html#simd-ranks"><i class="fa fa-check"></i><b>6.4</b> SIMD ranks</a></li>
<li class="chapter" data-level="6.5" data-path="QA.html"><a href="QA.html#conclusion"><i class="fa fa-check"></i><b>6.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>7</b> Appendix</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">openSIMD</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="QA" class="section level1">
<h1><span class="header-section-number">6</span> Quality Assurance</h1>
<p>In this section, we will show how accurate our translation of the SIMD procedure from SAS to R is. For this, weâ€™ll compare the outputs from SAS and R at different points in the calculation.</p>
<p>You will see that the R code correctly replicates the SAS code, but that there are small numeric differences between SAS and R outputs due to the way SAS and R run the factor analysis procedure, and rounding. This means that SIMD ranks produced through the <strong>openSIMD</strong> code slightly differ from the official SIMD16 ranks published on the Scottish Government <a href="www.gov.scot/SIMD">SIMD website</a>.</p>
<p>Future updates of SIMD will be calculated using R, and the <strong>openSIMD</strong> R code will produce SIMD ranks that are identical with the official SIMD ranks published by the Scottish Government.</p>
<div id="normalisation" class="section level2">
<h2><span class="header-section-number">6.1</span> Normalisation</h2>
<p>Here, we look at the normalisation step and compare the normalised scores of an education indicator, the percentage of people with no qualifications, calculated in SAS and in R.</p>
<p>Loading the indicator raw data and the (SAS-)normalised indicator scores:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">noquals &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;../openSIMD_analysis/data/SAS NOQUALSDATA.xls&quot;</span>)
<span class="kw">str</span>(noquals)</code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    6976 obs. of  3 variables:
##  $ DZ      : chr  &quot;S01006506&quot; &quot;S01006507&quot; &quot;S01006508&quot; &quot;S01006509&quot; ...
##  $ Noquals : num  52.8 95.9 38.6 80.1 77.2 ...
##  $ nnoquals: num  -0.7981 0.0512 -1.2185 -0.2042 -0.2607 ...</code></pre>
<p>Normalising the indicator data, but now in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">noquals$r_nnoquals &lt;-<span class="st"> </span><span class="kw">normalScores</span>(noquals$Noquals)</code></pre></div>
<p>Comparing the two sets of normalised scores, asking to which degree of precision we have reproduced the result obtained in SAS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">checkEquivalence &lt;-<span class="st"> </span>function(x, y, sig_figs) {
  same &lt;-<span class="st"> </span><span class="kw">lapply</span>(sig_figs, function(n) <span class="kw">identical</span>(<span class="kw">signif</span>(x, n), <span class="kw">signif</span>(y, n))) %&gt;%<span class="st"> </span>unlist
  <span class="kw">data.frame</span>(<span class="dt">significant_figures =</span> sig_figs, <span class="dt">is_identical =</span> same)
}

<span class="kw">checkEquivalence</span>(noquals$nnoquals, noquals$r_nnoquals, <span class="dv">1</span>:<span class="dv">16</span>)</code></pre></div>
<pre><code>##    significant_figures is_identical
## 1                    1         TRUE
## 2                    2         TRUE
## 3                    3         TRUE
## 4                    4         TRUE
## 5                    5         TRUE
## 6                    6         TRUE
## 7                    7         TRUE
## 8                    8         TRUE
## 9                    9         TRUE
## 10                  10         TRUE
## 11                  11         TRUE
## 12                  12         TRUE
## 13                  13        FALSE
## 14                  14        FALSE
## 15                  15        FALSE
## 16                  16        FALSE</code></pre>
<p>The normalised scores for this indicator are identical to eleven decimal places. We believe the remaining differences are due to small differences in how SAS and R work.</p>
</div>
<div id="factor-analysis" class="section level2">
<h2><span class="header-section-number">6.2</span> Factor analysis</h2>
<p>Here, we look at the factor analysis step.</p>
<p>To test whether SAS and R produce equivalent weights, we load the published indicators and the weights derived from SAS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">indicators &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;../openSIMD_analysis/data/SIMD16 indicator data.xlsx&quot;</span>, <span class="dt">sheet =</span> <span class="dv">3</span>, <span class="dt">na =</span> <span class="st">&quot;*&quot;</span>)
sas_weights &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;../openSIMD_analysis/data/SAS WEIGHTS.xlsx&quot;</span>)</code></pre></div>
<p>As an example, weâ€™ll calculate the health domain weights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r_weights &lt;-<span class="st"> </span>indicators %&gt;%
<span class="st">  </span><span class="kw">select</span>(CIF, SMR, LBWT, DRUG, ALCOHOL, DEPRESS, EMERG) %&gt;%
<span class="st">  </span><span class="kw">mutate_all</span>(<span class="kw">funs</span>(normalScores)) %&gt;%
<span class="st">  </span><span class="kw">mutate_all</span>(<span class="kw">funs</span>(replaceMissing)) %&gt;%
<span class="st">  </span>getFAWeights %&gt;%<span class="st"> </span>
<span class="st">  </span>unlist</code></pre></div>
<pre><code>## Warning in qnorm(rn, mean = 0, sd = 1, lower.tail = forwards): NaNs
## produced

## Warning in qnorm(rn, mean = 0, sd = 1, lower.tail = forwards): NaNs
## produced</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sas_weights &lt;-<span class="st"> </span>sas_weights %&gt;%<span class="st"> </span><span class="kw">select</span>(wt_cif:wt_emerg) %&gt;%<span class="st"> </span>unlist
<span class="kw">names</span>(sas_weights) &lt;-<span class="st"> </span><span class="ot">NULL</span></code></pre></div>
<p><strong>Note</strong>: You should see a warning here when <a href="functions.html#normalScores"><code>normalScores</code></a> propagates a few missing values.</p>
<p>Now that we have the two sets of health domain weights, we can use the same method as above to compare them.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">checkEquivalence</span>(sas_weights, r_weights, <span class="dv">1</span>:<span class="dv">5</span>)</code></pre></div>
<pre><code>##   significant_figures is_identical
## 1                   1         TRUE
## 2                   2         TRUE
## 3                   3        FALSE
## 4                   4        FALSE
## 5                   5        FALSE</code></pre>
<p>The factor analysis weights are equivalent between the two platforms to two significant figures. Again, we think that this is due to the specific implementation of the factor analysis algorithm in the two platforms.</p>
</div>
<div id="domain-ranks" class="section level2">
<h2><span class="header-section-number">6.3</span> Domain ranks</h2>
<p>Here, we look at how well domain ranks derived through R correlate with the ranks derived through SAS. First, we need a few more packages, and we will load in the SAS results and R results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyr)
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(purrr)
sas_results &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;../openSIMD_analysis/data/SAS SIMD and domain ranks.xlsx&quot;</span>, <span class="dv">1</span>)
r_results &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;../openSIMD_analysis/results/domain_ranks.csv&quot;</span>)</code></pre></div>
<p>Now we need to select the necessary columns and rename them. Then, we need to join the two datasets together for plotting.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sas_domains &lt;-<span class="st"> </span>sas_results %&gt;%
<span class="st">  </span><span class="kw">select</span>(-IZ, -LA, -pop, -wapop, -SIMD)
<span class="kw">names</span>(sas_domains) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;data_zone&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;employment&quot;</span>, <span class="st">&quot;health&quot;</span>,
                        <span class="st">&quot;education&quot;</span>, <span class="st">&quot;access&quot;</span>, <span class="st">&quot;crime&quot;</span>, <span class="st">&quot;housing&quot;</span>)

sas_domains$source &lt;-<span class="st"> &quot;sas&quot;</span>
r_results$source &lt;-<span class="st"> &quot;r&quot;</span>

sas_domains &lt;-<span class="st"> </span><span class="kw">gather</span>(sas_domains, domain, rank, -data_zone, -source)
r_results &lt;-<span class="st"> </span><span class="kw">gather</span>(r_results, domain, rank, -data_zone, -source)
results &lt;-<span class="st"> </span><span class="kw">rbind</span>(sas_domains, r_results) %&gt;%<span class="st"> </span><span class="kw">spread</span>(source, rank)</code></pre></div>
<p>Finally, we plot the R- and SAS-derived domain ranks against each other and look at the correlations. We also look at the distribution of differences in domain ranks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(results, <span class="kw">aes</span>(<span class="dt">x =</span> sas, <span class="dt">y =</span> r)) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">facet_wrap</span>(~<span class="st"> </span>domain)</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-25-1.pdf" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(results, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">abs</span>(sas -<span class="st"> </span>r))) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">20</span>) +
<span class="st">  </span><span class="kw">facet_wrap</span>(~<span class="st"> </span>domain)</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-25-2.pdf" width="672" /></p>
<p>Here, we calculate the correlation coefficient for each comparison, and the median difference in rank.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">results %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(domain) %&gt;%
<span class="st">  </span>nest %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rho =</span> <span class="kw">map_dbl</span>(data, ~<span class="st"> </span><span class="kw">cor.test</span>(.$sas, .$r, <span class="dt">method =</span> <span class="st">&quot;spearman&quot;</span>, <span class="dt">exact =</span> <span class="ot">FALSE</span>)$estimate)) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">median_diff =</span> <span class="kw">map_dbl</span>(data, ~<span class="st"> </span><span class="kw">median</span>(.$r -<span class="st"> </span>.$sas))) %&gt;%
<span class="st">  </span><span class="kw">select</span>(domain, rho, median_diff)</code></pre></div>
<pre><code>## # A tibble: 7 Ã— 3
##       domain       rho median_diff
##        &lt;chr&gt;     &lt;dbl&gt;       &lt;dbl&gt;
## 1     access 0.9999999           0
## 2      crime 1.0000000           0
## 3  education 0.9999923           1
## 4 employment 1.0000000           0
## 5     health 0.9999911           0
## 6    housing 1.0000000           0
## 7     income 1.0000000           0</code></pre>
<p>The results tell us that the ranks are highly correlated but not exactly equal. The largest rank difference is 61, found in the education domain. These differences are due to the numerical discrepancies in the factor analysis step.</p>
</div>
<div id="simd-ranks" class="section level2">
<h2><span class="header-section-number">6.4</span> SIMD ranks</h2>
<p>Here, we compare the final SIMD rankings between the two platforms. Again, we need to read in the data and join it up.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sas_simd &lt;-<span class="st"> </span>sas_results %&gt;%<span class="st"> </span><span class="kw">select</span>(DZ, SIMD)
r_simd &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;../openSIMD_analysis/results/openSIMD_ranks.csv&quot;</span>)
<span class="kw">names</span>(sas_simd) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;data_zone&quot;</span>, <span class="st">&quot;sas&quot;</span>)
<span class="kw">names</span>(r_simd) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;data_zone&quot;</span>, <span class="st">&quot;r&quot;</span>)
simd_results &lt;-<span class="st"> </span><span class="kw">left_join</span>(sas_simd, r_simd)</code></pre></div>
<pre><code>## Warning in left_join_impl(x, y, by$x, by$y, suffix$x, suffix$y): joining
## factor and character vector, coercing into character vector</code></pre>
<p>Then we examine the correlation in SIMD rankings between R and SAS, and the distribution of differences in SIMD rank.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">simd_results %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rho =</span> <span class="kw">cor.test</span>(.$sas, .$r, <span class="dt">method =</span> <span class="st">&quot;spearman&quot;</span>, <span class="dt">exact =</span> <span class="ot">FALSE</span>)$estimate) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">median_diff =</span> <span class="kw">median</span>(.$r -<span class="st"> </span>.$sas)) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">domain =</span> <span class="st">&#39;SIMD&#39;</span>) %&gt;%
<span class="st">  </span><span class="kw">select</span>(domain, rho, median_diff) %&gt;%
<span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span>:<span class="dv">1</span>)</code></pre></div>
<pre><code>## # A tibble: 1 Ã— 3
##   domain       rho median_diff
##    &lt;chr&gt;     &lt;dbl&gt;       &lt;dbl&gt;
## 1   SIMD 0.9999993           0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(simd_results, <span class="kw">aes</span>(<span class="dt">x =</span> sas, <span class="dt">y =</span> r)) +
<span class="st">  </span><span class="kw">geom_point</span>()

p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(simd_results, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">abs</span>(sas -<span class="st"> </span>r))) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">20</span>)
gridExtra::<span class="kw">grid.arrange</span>(p1, p2)</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-28-1.pdf" width="672" /></p>
<p>While there is a tight correlation in the final SIMD rankings, there are some differences. Mostly, these differences lie between 0 and 10 with the largest difference as high as 18.</p>
</div>
<div id="conclusion" class="section level2">
<h2><span class="header-section-number">6.5</span> Conclusion</h2>
<p>The differences between rankings derived using R versus using SAS are mainly due to the factor analysis step, which calculates the indicator weights in the health, education, and access domains. As a result, the weights differ in value after the second decimal place. As all discrepancies can be explained, and the correlation is very high, we conclude that the <strong>openSIMD</strong> R code replicates the original SAS code correctly.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
